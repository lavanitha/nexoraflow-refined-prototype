@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    font-family: 'Inter', system-ui, sans-serif;
    @apply antialiased;
  }



  html {
    @apply scroll-smooth;
  }
}

@layer components {
  /* Navigation Components */
  .sidebar-transition {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .nav-link {
    @apply flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-300 ease-out;
    position: relative;
    overflow: hidden;
  }

  .nav-link::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
  }

  .nav-link:hover::before {
    left: 100%;
  }

  .nav-link-active {
    @apply bg-primary-50 text-primary-700 border-r-2 border-primary-500 shadow-sm;
    animation: slideInLeft 0.3s ease-out;
  }

  .nav-link-inactive {
    @apply text-gray-600 hover:bg-gray-50 hover:text-gray-900 hover:shadow-sm hover:scale-105;
  }

  /* Card Components */
  .card-hover {
    @apply transition-all duration-300 ease-out hover:shadow-strong hover:-translate-y-1;
    transform-origin: center;
  }

  .card-hover:hover {
    animation: scaleIn 0.2s ease-out;
  }

  .card-clickable {
    @apply cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 active:scale-95;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .card-interactive {
    @apply card-hover card-clickable;
    position: relative;
    overflow: hidden;
  }

  .card-interactive::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(59, 130, 246, 0.1);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
  }

  .card-interactive:active::after {
    width: 300px;
    height: 300px;
  }

  /* Button Components */
  .btn-base {
    @apply inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
    position: relative;
    overflow: hidden;
  }

  .btn-primary {
    @apply btn-base bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500 shadow-sm hover:shadow-md active:scale-95;
  }

  .btn-primary::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
  }

  .btn-primary:hover::before {
    left: 100%;
  }

  .btn-secondary {
    @apply btn-base bg-secondary-100 text-secondary-700 hover:bg-secondary-200 focus:ring-secondary-500 hover:shadow-sm active:scale-95;
  }

  .btn-ghost {
    @apply btn-base text-primary-600 hover:bg-primary-50 focus:ring-primary-500 bg-transparent hover:scale-105;
  }

  /* Loading States */
  .loading-skeleton {
    @apply animate-skeleton bg-gray-200 rounded;
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
  }

  .loading-shimmer {
    @apply relative overflow-hidden bg-gray-200 rounded;
  }

  .loading-shimmer::after {
    @apply absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-white to-transparent;
    content: '';
    animation: shimmer 2s infinite;
  }

  .loading-dots {
    @apply flex space-x-1;
  }

  .loading-dots > div {
    @apply w-2 h-2 bg-primary-500 rounded-full;
    animation: bounceGentle 1.4s ease-in-out infinite both;
  }

  .loading-dots > div:nth-child(1) { animation-delay: -0.32s; }
  .loading-dots > div:nth-child(2) { animation-delay: -0.16s; }
  .loading-dots > div:nth-child(3) { animation-delay: 0s; }

  /* Skeleton Screens */
  .skeleton-text {
    @apply loading-skeleton h-4 mb-2;
  }

  .skeleton-text-sm {
    @apply loading-skeleton h-3 mb-1;
  }

  .skeleton-text-lg {
    @apply loading-skeleton h-6 mb-3;
  }

  .skeleton-avatar {
    @apply loading-skeleton w-10 h-10 rounded-full;
  }

  .skeleton-card {
    @apply loading-skeleton h-32 rounded-lg;
  }

  /* Responsive Utilities */
  .container-responsive {
    @apply w-full mx-auto px-4 sm:px-6 lg:px-8;
  }

  .grid-responsive {
    @apply grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6;
  }

  .flex-responsive {
    @apply flex flex-col sm:flex-row items-start sm:items-center gap-4;
  }

  /* Text Utilities */
  .text-responsive {
    @apply text-sm sm:text-base lg:text-lg;
  }

  .heading-responsive {
    @apply text-xl sm:text-2xl lg:text-3xl xl:text-4xl;
  }

  /* Spacing Utilities */
  .section-padding {
    @apply py-8 sm:py-12 lg:py-16;
  }

  .content-padding {
    @apply p-4 sm:p-6 lg:p-8;
  }

  /* Interactive States */
  .interactive-scale {
    @apply transition-transform duration-200 ease-in-out hover:scale-105 active:scale-95;
  }

  .interactive-scale-sm {
    @apply transition-transform duration-200 ease-in-out hover:scale-102 active:scale-98;
  }

  .interactive-opacity {
    @apply transition-opacity duration-200 ease-in-out hover:opacity-80 active:opacity-60;
  }

  .interactive-glow {
    @apply transition-all duration-300 ease-in-out hover:shadow-lg;
    filter: drop-shadow(0 0 0 transparent);
  }

  .interactive-glow:hover {
    filter: drop-shadow(0 0 8px rgba(59, 130, 246, 0.3));
  }

  .interactive-bounce {
    @apply transition-transform duration-200 ease-in-out hover:animate-bounce-gentle;
  }

  .interactive-wiggle {
    @apply transition-transform duration-200 ease-in-out hover:animate-wiggle;
  }

  .interactive-float {
    @apply animate-float;
  }

  .interactive-pulse {
    @apply hover:animate-pulse-soft;
  }

  /* Micro-interactions */
  .micro-bounce {
    animation: microBounce 0.3s ease-out;
  }

  .micro-shake {
    animation: microShake 0.5s ease-in-out;
  }

  .micro-flash {
    animation: microFlash 0.6s ease-in-out;
  }

  .micro-rubber {
    animation: microRubber 0.8s ease-in-out;
  }

  .micro-jello {
    animation: microJello 0.9s ease-in-out;
  }

  /* Hover Effects */
  .hover-lift {
    @apply transition-all duration-300 ease-out hover:-translate-y-2 hover:shadow-strong;
  }

  .hover-tilt {
    @apply transition-transform duration-300 ease-out;
  }

  .hover-tilt:hover {
    transform: perspective(1000px) rotateX(10deg) rotateY(10deg);
  }

  .hover-grow {
    @apply transition-transform duration-300 ease-out hover:scale-110;
  }

  .hover-shrink {
    @apply transition-transform duration-300 ease-out hover:scale-95;
  }

  .hover-rotate {
    @apply transition-transform duration-300 ease-out hover:rotate-3;
  }

  .hover-slide-right {
    @apply transition-transform duration-300 ease-out hover:translate-x-2;
  }

  .hover-slide-up {
    @apply transition-transform duration-300 ease-out hover:-translate-y-1;
  }

  /* Focus States */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }

  .focus-ring-inset {
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-inset;
  }

  .focus-glow {
    @apply focus:outline-none;
    transition: all 0.2s ease-in-out;
  }

  .focus-glow:focus {
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1), 0 0 20px rgba(59, 130, 246, 0.2);
  }

  /* Page Transitions */
  .page-enter {
    @apply animate-fade-in-up;
  }

  .page-exit {
    @apply animate-fade-out;
  }

  /* Stagger Animations */
  .stagger-children > * {
    opacity: 0;
    animation: fadeInUp 0.6s ease-out forwards;
  }

  .stagger-children > *:nth-child(1) { animation-delay: 0.1s; }
  .stagger-children > *:nth-child(2) { animation-delay: 0.2s; }
  .stagger-children > *:nth-child(3) { animation-delay: 0.3s; }
  .stagger-children > *:nth-child(4) { animation-delay: 0.4s; }
  .stagger-children > *:nth-child(5) { animation-delay: 0.5s; }
  .stagger-children > *:nth-child(6) { animation-delay: 0.6s; }

  /* Notification Animations */
  .notification-enter {
    @apply animate-notification;
  }

  .notification-exit {
    animation: notificationExit 0.3s ease-in forwards;
  }

  /* Modal Animations */
  .modal-backdrop {
    @apply animate-fade-in;
  }

  .modal-content {
    @apply animate-modal;
  }

  /* Tooltip Animations */
  .tooltip-enter {
    @apply animate-tooltip;
  }

  /* Progress Animations */
  .progress-bar {
    @apply animate-progress;
  }

  /* Responsive Animations */
  @media (prefers-reduced-motion: reduce) {
    .interactive-scale,
    .interactive-opacity,
    .interactive-glow,
    .interactive-bounce,
    .interactive-wiggle,
    .interactive-float,
    .interactive-pulse,
    .hover-lift,
    .hover-tilt,
    .hover-grow,
    .hover-shrink,
    .hover-rotate,
    .hover-slide-right,
    .hover-slide-up,
    .card-hover,
    .nav-link {
      transition: none !important;
      animation: none !important;
      transform: none !important;
    }
  }
}

@layer utilities {
  /* Custom Animations */
  @keyframes shimmer {
    100% {
      transform: translateX(100%);
    }
  }

  @keyframes microBounce {
    0%, 20%, 53%, 80%, 100% {
      transform: translate3d(0, 0, 0);
    }
    40%, 43% {
      transform: translate3d(0, -8px, 0);
    }
    70% {
      transform: translate3d(0, -4px, 0);
    }
    90% {
      transform: translate3d(0, -2px, 0);
    }
  }

  @keyframes microShake {
    0%, 100% {
      transform: translate3d(0, 0, 0);
    }
    10%, 30%, 50%, 70%, 90% {
      transform: translate3d(-2px, 0, 0);
    }
    20%, 40%, 60%, 80% {
      transform: translate3d(2px, 0, 0);
    }
  }

  @keyframes microFlash {
    0%, 50%, 100% {
      opacity: 1;
    }
    25%, 75% {
      opacity: 0.3;
    }
  }

  @keyframes microRubber {
    0% {
      transform: scale3d(1, 1, 1);
    }
    30% {
      transform: scale3d(1.25, 0.75, 1);
    }
    40% {
      transform: scale3d(0.75, 1.25, 1);
    }
    50% {
      transform: scale3d(1.15, 0.85, 1);
    }
    65% {
      transform: scale3d(0.95, 1.05, 1);
    }
    75% {
      transform: scale3d(1.05, 0.95, 1);
    }
    100% {
      transform: scale3d(1, 1, 1);
    }
  }

  @keyframes microJello {
    0%, 11.1%, 100% {
      transform: translate3d(0, 0, 0);
    }
    22.2% {
      transform: skewX(-12.5deg) skewY(-12.5deg);
    }
    33.3% {
      transform: skewX(6.25deg) skewY(6.25deg);
    }
    44.4% {
      transform: skewX(-3.125deg) skewY(-3.125deg);
    }
    55.5% {
      transform: skewX(1.5625deg) skewY(1.5625deg);
    }
    66.6% {
      transform: skewX(-0.78125deg) skewY(-0.78125deg);
    }
    77.7% {
      transform: skewX(0.390625deg) skewY(0.390625deg);
    }
    88.8% {
      transform: skewX(-0.1953125deg) skewY(-0.1953125deg);
    }
  }

  @keyframes notificationExit {
    0% {
      transform: translateX(0);
      opacity: 1;
    }
    100% {
      transform: translateX(100%);
      opacity: 0;
    }
  }

  @keyframes fadeOut {
    0% {
      opacity: 1;
    }
    100% {
      opacity: 0;
    }
  }

  /* Responsive Hide/Show */
  .hide-mobile {
    @apply hidden sm:block;
  }

  .show-mobile {
    @apply block sm:hidden;
  }

  .hide-tablet {
    @apply hidden lg:block;
  }

  .show-tablet {
    @apply block lg:hidden;
  }

  /* Scrollbar Styling */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: rgb(203 213 225) transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: rgb(203 213 225);
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: rgb(148 163 184);
  }

  /* Safe Area Utilities for Mobile */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-right {
    padding-right: env(safe-area-inset-right);
  }
}